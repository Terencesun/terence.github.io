{"title":"【go练习】一个进度条","date":"2020-10-10T01:30:17.000Z","date_formatted":{"ll":"Oct 10, 2020","L":"10/10/2020","MM-DD":"10-10"},"link":"2020/10/10/2020-10-10-1","comments":true,"tags":["golang","language","practice"],"updated":"2020-10-10T01:35:53.941Z","content":"<h3 id=\"一个进度条\">一个进度条<a title=\"#一个进度条\" href=\"#一个进度条\"></a></h3>\n<hr>\n<h4 id=\"1.-直接上代码\">1. 直接上代码<a title=\"#1.-直接上代码\" href=\"#1.-直接上代码\"></a></h4>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F; main.go</span><br><span class=\"line\">package main</span><br><span class=\"line\"></span><br><span class=\"line\">import (</span><br><span class=\"line\">\t&quot;processer&#x2F;bar&quot;</span><br><span class=\"line\">\t&quot;time&quot;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">func test(p *bar.Bar)  &#123;</span><br><span class=\"line\">\tfor i:&#x3D;1; i &lt;&#x3D; 100; i++ &#123;</span><br><span class=\"line\">\t\ttime.Sleep(time.Millisecond * 100)</span><br><span class=\"line\">\t\tp.Update(i)</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">func main()  &#123;</span><br><span class=\"line\">\ta :&#x3D; bar.Bar&#123;&#125;</span><br><span class=\"line\">\ttest(&amp;a)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F; bar&#x2F;bar.go</span><br><span class=\"line\"></span><br><span class=\"line\">package bar</span><br><span class=\"line\"></span><br><span class=\"line\">import (</span><br><span class=\"line\">\t&quot;fmt&quot;</span><br><span class=\"line\">\t&quot;strings&quot;</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">type Bar struct &#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">func (p *Bar) Update(processNum int)  &#123;</span><br><span class=\"line\">\th :&#x3D; strings.Repeat(&quot;&#x3D;&quot;, processNum &#x2F; 2) + strings.Repeat(&quot; &quot;, (99-processNum) &#x2F; 2)</span><br><span class=\"line\"></span><br><span class=\"line\">\tif processNum &#x3D;&#x3D; 100 &#123;</span><br><span class=\"line\">\t\tfmt.Printf(&quot;\\rok[%s]&quot;, h)</span><br><span class=\"line\">\t&#125; else &#123;</span><br><span class=\"line\">\t\tfmt.Printf(&quot;\\r%.0f%%[%s]&quot;, float64(processNum), h)</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"2.-要点\">2. 要点<a title=\"#2.-要点\" href=\"#2.-要点\"></a></h3>\n<p>那个\\r是重点，每次输入会清空前一次</p>\n","prev":{"title":"【etcd】etcd入门学习","link":"2020/10/26/2020-10-26-01"},"next":{"title":"【go练习】一个用户信息管理程序","link":"2020/10/08/2020-10-08-01"},"plink":"https://terence.segofun.com/2020/10/10/2020-10-10-1/","toc":[{"id":"一个进度条","title":"一个进度条","index":"1"},{"id":"2.-要点","title":"2. 要点","index":"2"}]}